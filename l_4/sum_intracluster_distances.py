# -*- coding: utf-8 -*-
"""
Сумма внутрикластерных расстояний.

Что нужно сделать:
  Найти расстояние от КАЖДОЙ точки из массива X до центра кластера,
  затем ПРОСУММИРОВАТЬ эти расстояния.
  Это аналог того, что считает sklearn.metrics.pairwise.euclidean_distances
  (но мы считаем БЕЗ квадратного корня — для скорости).

Формула для одной точки x = (x1, x2) и центра c = (c1, c2):
  |x - c| = (x1 - c1)^2 + (x2 - c2)^2   (без корня!)

Сумма по всем точкам: sum_i |x_i - c|.
Ожидаемый результат: число чуть больше 16.
"""

import sys
import os
# Чтобы при запуске из корня проекта подхватывались config и data_loader из lesson4_hw.
_HW_DIR = os.path.dirname(os.path.abspath(__file__))
if _HW_DIR not in sys.path:
    sys.path.insert(0, _HW_DIR)

import numpy as np

# ============== ДАННЫЕ: МАССИВ ТОЧЕК (КЛАСТЕР) ==============
clust = np.array([
    [-0.5972191612445694, -0.5919098916910581],
    [-1.5838020751869848, 0.4743393635868491],
    [-1.892642118066139, -1.2770390481464395],
    [-1.021761443519372, -0.38446059106320013],
    [-0.628271339507516, -2.308149346281125],
    [-0.7180915776856387, 1.1805550909358404],
    [-1.543143767548152, -1.4163791359687334],
    [0.022103701018375554, -1.1279478858865397],
    [-0.7776518874305778, -0.4157532453316538],
    [-1.2073577296008344, -1.1308523658604184],
])

# ============== ЦЕНТР КЛАСТЕРА ==============
center = np.mean(clust, axis=0)

# ============== СУММА ВНУТРИКЛАСТЕРНЫХ РАССТОЯНИЙ (БЕЗ КОРНЯ) ==============
diff = clust - center
squared = diff ** 2
per_point = np.sum(squared, axis=1)
total_sum = np.sum(per_point)

# ============== ВЫВОД ==============
print("Сумма внутрикластерных расстояний (без корня)")
print("Центр кластера c:", center)
print("Сумма расстояний (без sqrt):", total_sum)
print("Ожидается: число чуть больше 16.")
if total_sum > 16:
    print("Результат > 16 — ок.")
else:
    print("Если в Colab массив больше — вставь полный массив clust из ноутбука.")
